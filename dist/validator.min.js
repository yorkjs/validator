!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Validator={})}(this,(function(e){"use strict";var t=Object.prototype.toString;function r(e){return t.call(e).toLowerCase().slice(8,-1)}function i(e){return!(!e||"object"!==r(e))}function n(e,t){for(var r in t)e[r]=t[r]}function o(e,t){if(!Array.isArray(t))return"type";var i=t.length;if(void 0!==e.min&&i<e.min)return"min";if(void 0!==e.max&&i>e.max)return"max";var n=e.itemType;if(n)for(var o=0;o<i;o++)if(r(t[o])!==n)return"itemType"}function a(e,t){return"boolean"!=typeof t?"type":void 0!==e.value&&e.value!==t?"value":void 0}function u(e,t){if("string"!=typeof t)return"type";if(""===t){if(!0===e.empty)return;return"empty"}if(void 0!==e.min&&t.length<e.min)return"min";if(void 0!==e.max&&t.length>e.max)return"max";if(void 0!==e.pattern&&!e.pattern.test(t))return"pattern";if(void 0!==e.custom){var r=e.custom(t);if(r)return r}}var s=/^\d{4}\-\d{2}\-\d{2}$/;function f(e,t){var r={};return n(r,e),n(r,{type:"string",pattern:s}),u(r,t)}var c=/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/;function p(e,t){var r={};return n(r,e),n(r,{type:"string",pattern:c}),u(r,t)}function d(e,t){if(!Array.isArray(e.values)||e.values.indexOf(t)<0)return"type"}function m(e,t){return"number"!=typeof t||t%1!=0?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function v(e,t){if("number"!=typeof t||isNaN(t))return"type";if(void 0!==e.min&&t<e.min)return"min";if(void 0!==e.max&&t>e.max)return"max";if(void 0!==e.precision){var r=(""+t).split(".");if(2===r.length&&r[1].length>e.precision)return"precision"}}function y(e,t){if(!i(t))return"type"}var l=function(){this.rules={int:m,integer:m,number:v,string:u,bool:a,boolean:a,enum:d,array:o,object:y,date:f,dateTime:p},this.messages={}};l.prototype.add=function(e,t,r){i(e)?(n(this.rules,e),i(t)&&n(this.messages,t)):(this.rules[e]=t,this.messages[e]=r)},l.prototype.validate=function(e,t,n){var o;for(var a in t){var u=t[a],s=void 0;switch(r(u)){case"string":s={type:u};break;case"array":s={type:"enum",values:u};break;case"regexp":s={type:"string",pattern:u};break;default:s=u}if(!i(s)||!s.type)throw new Error(a+"'s rule is not found.");var f=void 0;if(void 0!==e[a])f=this.rules[s.type](s,e[a],e);else{if(!1===s.required)continue;f="required"}if(f){var c=n&&n[a]&&n[a][f];switch("string"!=typeof c&&"function"!=typeof c&&(c=this.messages[s.type]&&this.messages[s.type][f]),o||(o={}),typeof c){case"string":o[a]=c;break;case"function":o[a]=c(s);break;default:o[a]=f}}}return o};e.Validator=l,e.checkArray=o,e.checkBoolean=a,e.checkDate=f,e.checkDateTime=p,e.checkEnum=d,e.checkInteger=m,e.checkNumber=v,e.checkObject=y,e.checkString=u,e.version="0.0.5",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=validator.min.js.map

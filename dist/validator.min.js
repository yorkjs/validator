!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Validator={})}(this,(function(e){"use strict";function t(e){return Object.prototype.toString.call(e).toLowerCase().slice(8,-1)}function r(e){return"object"===t(e)}function n(e,r){if(!Array.isArray(r))return"type";var n=r.length;if(void 0!==e.min&&n<e.min)return"min";if(void 0!==e.max&&n>e.max)return"max";var i=e.itemType;if(i)for(var a=0;a<n;a++)if(t(r[a])!==i)return"itemType"}function i(e,t){return"boolean"!=typeof t?"type":void 0!==e.value&&e.value!==t?"value":void 0}function a(e,t){if("string"!=typeof t)return"type";if(""===t){if(!0===e.empty)return;return"empty"}if(void 0!==e.min&&t.length<e.min)return"min";if(void 0!==e.max&&t.length>e.max)return"max";if(void 0!==e.pattern&&!e.pattern.test(t))return"pattern";if(void 0!==e.custom){var r=e.custom(t);if(r)return r}}var o=/^\d{4}\-\d{2}\-\d{2}$/;function s(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:o}),a(r,t)}var u=/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/;function f(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:u}),a(r,t)}function c(e,t){if(!Array.isArray(e.values)||e.values.indexOf(t)<0)return"type"}function d(e,t){return"number"!=typeof t||t%1!=0?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function p(e,t){return"number"!=typeof t||isNaN(t)?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function m(e,t){if(!r(t))return"type"}var y=function(){this.rules={int:d,integer:d,number:p,string:a,bool:i,boolean:i,enum:c,array:n,object:m,date:s,dateTime:f},this.messages={}};y.prototype.add=function(e,t,n){r(e)?(Object.assign(this.rules,e),r(t)&&Object.assign(this.messages,t)):(this.rules[e]=t,this.messages[e]=n)},y.prototype.validate=function(e,n,i){var a;for(var o in n){var s=n[o],u=void 0;switch(t(s)){case"string":u={type:s};break;case"array":u={type:"enum",values:s};break;case"regexp":u={type:"string",pattern:s};break;default:u=s}if(!r(u)||!u.type)throw new Error(o+"'s rule is not found.");var f=void 0;if(e.hasOwnProperty(o))f=this.rules[u.type](u,e[o],e);else{if(!1===u.required)continue;f="required"}if(f){var c=i&&i[o]&&i[o][f];"string"!=typeof c&&(c=this.messages[u.type]&&this.messages[u.type][f]),a||(a={}),a[o]="string"==typeof c?c:f}}return a};e.Validator=y,e.checkArray=n,e.checkBoolean=i,e.checkDate=s,e.checkDateTime=f,e.checkEnum=c,e.checkInteger=d,e.checkNumber=p,e.checkObject=m,e.checkString=a,e.version="0.0.1",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=validator.min.js.map

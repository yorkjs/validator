!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Validator={})}(this,(function(e){"use strict";var t=Object.prototype.toString;function r(e){return t.call(e).toLowerCase().slice(8,-1)}function n(e){return!(!e||"object"!==r(e))}function i(e,t){if(!Array.isArray(t))return"type";var n=t.length;if(void 0!==e.min&&n<e.min)return"min";if(void 0!==e.max&&n>e.max)return"max";var i=e.itemType;if(i)for(var a=0;a<n;a++)if(r(t[a])!==i)return"itemType"}function a(e,t){return"boolean"!=typeof t?"type":void 0!==e.value&&e.value!==t?"value":void 0}function o(e,t){if("string"!=typeof t)return"type";if(""===t){if(!0===e.empty)return;return"empty"}if(void 0!==e.min&&t.length<e.min)return"min";if(void 0!==e.max&&t.length>e.max)return"max";if(void 0!==e.pattern&&!e.pattern.test(t))return"pattern";if(void 0!==e.custom){var r=e.custom(t);if(r)return r}}var s=/^\d{4}\-\d{2}\-\d{2}$/;function u(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:s}),o(r,t)}var c=/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/;function f(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:c}),o(r,t)}function d(e,t){if(!Array.isArray(e.values)||e.values.indexOf(t)<0)return"type"}function p(e,t){return"number"!=typeof t||t%1!=0?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function m(e,t){return"number"!=typeof t||isNaN(t)?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function y(e,t){if(!n(t))return"type"}var v=function(){this.rules={int:p,integer:p,number:m,string:o,bool:a,boolean:a,enum:d,array:i,object:y,date:u,dateTime:f},this.messages={}};v.prototype.add=function(e,t,r){n(e)?(Object.assign(this.rules,e),n(t)&&Object.assign(this.messages,t)):(this.rules[e]=t,this.messages[e]=r)},v.prototype.validate=function(e,t,i){var a;for(var o in t){var s=t[o],u=void 0;switch(r(s)){case"string":u={type:s};break;case"array":u={type:"enum",values:s};break;case"regexp":u={type:"string",pattern:s};break;default:u=s}if(!n(u)||!u.type)throw new Error(o+"'s rule is not found.");var c=void 0;if(e.hasOwnProperty(o))c=this.rules[u.type](u,e[o],e);else{if(!1===u.required)continue;c="required"}if(c){var f=i&&i[o]&&i[o][c];switch("string"!=typeof f&&"function"!=typeof f&&(f=this.messages[u.type]&&this.messages[u.type][c]),a||(a={}),typeof f){case"string":a[o]=f;break;case"function":a[o]=f(u);break;default:a[o]=c}}}return a};e.Validator=v,e.checkArray=i,e.checkBoolean=a,e.checkDate=u,e.checkDateTime=f,e.checkEnum=d,e.checkInteger=p,e.checkNumber=m,e.checkObject=y,e.checkString=o,e.version="0.0.2",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=validator.min.js.map

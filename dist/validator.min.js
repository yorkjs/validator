!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Validator={})}(this,(function(e){"use strict";var t=Object.prototype.toString;function r(e){return t.call(e).toLowerCase().slice(8,-1)}function i(e){return!(!e||"object"!==r(e))}function n(e,t){if(!Array.isArray(t))return"type";var i=t.length;if(void 0!==e.min&&i<e.min)return"min";if(void 0!==e.max&&i>e.max)return"max";var n=e.itemType;if(n)for(var a=0;a<i;a++)if(r(t[a])!==n)return"itemType"}function a(e,t){return"boolean"!=typeof t?"type":void 0!==e.value&&e.value!==t?"value":void 0}function o(e,t){if("string"!=typeof t)return"type";if(""===t){if(!0===e.empty)return;return"empty"}if(void 0!==e.min&&t.length<e.min)return"min";if(void 0!==e.max&&t.length>e.max)return"max";if(void 0!==e.pattern&&!e.pattern.test(t))return"pattern";if(void 0!==e.custom){var r=e.custom(t);if(r)return r}}var s=/^\d{4}\-\d{2}\-\d{2}$/;function u(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:s}),o(r,t)}var f=/^\d{4}\-\d{2}\-\d{2} \d{2}:\d{2}:\d{2}$/;function c(e,t){var r={};return Object.assign(r,e),Object.assign(r,{type:"string",pattern:f}),o(r,t)}function p(e,t){if(!Array.isArray(e.values)||e.values.indexOf(t)<0)return"type"}function d(e,t){return"number"!=typeof t||t%1!=0?"type":void 0!==e.min&&t<e.min?"min":void 0!==e.max&&t>e.max?"max":void 0}function m(e,t){if("number"!=typeof t||isNaN(t))return"type";if(void 0!==e.min&&t<e.min)return"min";if(void 0!==e.max&&t>e.max)return"max";if(void 0!==e.precision){var r=(""+t).split(".");if(2===r.length&&r[1].length>e.precision)return"precision"}}function v(e,t){if(!i(t))return"type"}var y=function(){this.rules={int:d,integer:d,number:m,string:o,bool:a,boolean:a,enum:p,array:n,object:v,date:u,dateTime:c},this.messages={}};y.prototype.add=function(e,t,r){i(e)?(Object.assign(this.rules,e),i(t)&&Object.assign(this.messages,t)):(this.rules[e]=t,this.messages[e]=r)},y.prototype.validate=function(e,t,n){var a;for(var o in t){var s=t[o],u=void 0;switch(r(s)){case"string":u={type:s};break;case"array":u={type:"enum",values:s};break;case"regexp":u={type:"string",pattern:s};break;default:u=s}if(!i(u)||!u.type)throw new Error(o+"'s rule is not found.");var f=void 0;if(void 0!==e[o])f=this.rules[u.type](u,e[o],e);else{if(!1===u.required)continue;f="required"}if(f){var c=n&&n[o]&&n[o][f];switch("string"!=typeof c&&"function"!=typeof c&&(c=this.messages[u.type]&&this.messages[u.type][f]),a||(a={}),typeof c){case"string":a[o]=c;break;case"function":a[o]=c(u);break;default:a[o]=f}}}return a};e.Validator=y,e.checkArray=n,e.checkBoolean=a,e.checkDate=u,e.checkDateTime=c,e.checkEnum=p,e.checkInteger=d,e.checkNumber=m,e.checkObject=v,e.checkString=o,e.version="0.0.3",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=validator.min.js.map
